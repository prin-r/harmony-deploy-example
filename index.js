const { Harmony, HarmonyExtension } = require("@harmony-js/core");
const { ChainID, ChainType } = require("@harmony-js/utils");

const url = "https://api.s0.b.hmny.io";
const hmy = new Harmony(url, {
  chainType: ChainType.Harmony,
  chainId: ChainID.HmyLocal,
});

const bridgeAddress = "0x6560b63f06A0645386cb9079CD45EEa7AC937C09";

(async () => {
  const tx = hmy.transactions.newTx({
    to: bridgeAddress,
    data:
      "0xad37373200000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000ac00000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000054000000000000000000000000000000000000000000000000000000000000004e0000000000000000000000000000000000000000000000000000000000000043e1f8ccf68b355092fdf91b6b694edbebee5dad05e109c8160eb29462bdc995117937ae0536e33a2e7b9fcbfc0b28e25ae685532f5254c5203d70921a98ad6cb981060c95592d64d0536b79656a77eac4f0ef4074a1fa634b03795b4fd60725f3b32fa694879095840619f5e49380612bd296ff7e950eafb66ff654d99ca70869ecf8f212876bc79e8a95b695d05623b66363130654bcef439d8c901eadd2478587513ffe6590484ca8be5dc089f44e8df323449d5be57f4918ec0c4b8c568b3b565269fcfb0cc5557e5ecc5ea493900f7fd48aa99a255d49b38bbb0d1697c8e526e340b9cffb37a989ca544e6bb780a2c78901d3fb33738768511a30617afa01d7f4be7e5a1eb872ad44103360ddc190410331280c42a54d829a5d752c796685d000000000000000000000000000000000000000000000000000000000000018000000000000000000000000000000000000000000000000000000000000001c000000000000000000000000000000000000000000000000000000000000000106e0802113e0400000000000022480a20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000001400000000000000000000000000000000000000000000000000000000000000220c78cf546cfaa125473e81adc773123fd6840d0f08dc52e8b9a829917e76444d348c64c8cca117b0b2d751a1c20a9541f5372e3b2fad2f53ec1ffc9e6b7167ce7000000000000000000000000000000000000000000000000000000000000001b0000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000003f12240a20cc19b175ccd7b0ad1c8cf7d9fb0fbefd327fd09410e0e7926f11864dad6d723710012a0c08a2c0bdf30510b1c482ba03320962616e64636861696e003ccd5bd8fe505abdd8901a5c6f608ac91aae266fb6254666d986c27e3d30e6857bf6e1637ce43e229d0e5322e8d55004d814fd23423e41f8392896d555875bda000000000000000000000000000000000000000000000000000000000000001c0000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000003f12240a20cc19b175ccd7b0ad1c8cf7d9fb0fbefd327fd09410e0e7926f11864dad6d723710012a0c08a2c0bdf30510bbfadaba03320962616e64636861696e003ecb129f7bcddef6a6cf9c02b443f1f564242b9dc2b9cd0959e6649bac8564bf5a4cb8503a0ffeca3404f1f865c7d4aa49d3272aa3df39afe07a8660029fdacb000000000000000000000000000000000000000000000000000000000000001c0000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000003f12240a20cc19b175ccd7b0ad1c8cf7d9fb0fbefd327fd09410e0e7926f11864dad6d723710012a0c08a2c0bdf30510f6a7eeba03320962616e64636861696e000000000000000000000000000000000000000000000000000000000000000560000000000000000000000000000000000000000000000000000000000000043e00000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000014000000000000000000000000000000000000000000000000000000000000003a500000000000000000000000000000000000000000000000000000000000001800000000000000000000000000000000000000000000000000000000000000030000000005e6f5f15000000005e6f5f5500000000000000040000000000000004000000000000000400000000000029840000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000034554480000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000003a5b970d52c0d68a1741bc481581c245b3ca04b0596b1a0c8a113583ecf7cad5c2b00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000003a58f137c3f314784dad9866e0ac08543a7d0a9cf924f9fd6d71f36c7337c534d1100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000003a54d40a32f8deb619363e5010c1a4e19f6137f321313777c1334a262b9f044728500000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000d00000000000000000000000000000000000000000000000000000000000003a557fe63ef72b1c2af472e9f409ffc31540b13bd9553d736534ddc7f1041c36bce00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000005000000000000000000000000000000000000000000000000000000000000001600000000000000000000000000000000000000000000000000000000000003a5580726819fa6a8cd409b12a6ebec0fec2754ddd3c6cab874f10a684db9c1117f00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000002c000000000000000000000000000000000000000000000000000000000000043d34b30f702e922512108a2416d25cbf3639d2f82b338a2f76b3f47073ca7d20c6",
    value: "0",
    shardID: 0,
    toShardID: 0,
    gasLimit: "10000000",
    gasPrice: "1000000000",
  });

  hmy.wallet.addByPrivateKey(
    "0x01F903CE0C960FF3A9E68E80FF5FFC344358D80CE1C221C3F9711AF07F83A3BD"
  );
  hmy.wallet.setSigner("0x3aea49553Ce2E478f1c0c5ACC304a84F5F4d1f98");

  const signedTX = await hmy.wallet.signTransaction(tx);
  const [sentTX, txHash] = await signedTX.sendTransaction();

  console.log(sentTX);
  console.log("=-=-=-=-=-=-=-=-=-=");
  console.log(txHash);
  console.log("done");
})();
