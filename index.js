const { Harmony, HarmonyExtension } = require("@harmony-js/core");
const { ChainID, ChainType } = require("@harmony-js/utils");

const url = "https://api.s0.b.hmny.io";
const hmy = new Harmony(url, {
  chainType: ChainType.Harmony,
  chainId: ChainID.HmyLocal,
});

const bridgeAddress = "0xC4C777c8eB7Bb95606Abe89b36C0BF5c9EBcAB18";

(async () => {
  const tx = hmy.transactions.newTx({
    to: bridgeAddress,
    data:
      "0xad37373200000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000b60000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000005800000000000000000000000000000000000000000000000000000000000000520000000000000000000000000000000000000000000000000000000000000001c98d5a295127bd633fe41a1a32694efd02cc28bbee3ce47d1252b83221004198738f6b13c2200fb17eef5f64be9a054d973be7d9689649a0cfe870b238264b6a6d3707bec5bf767c06d08e6ac3bb09a249d3c7a12cc5534d1010e7f5712f00f3859d16cb43e4cfd60fa4722a3af0d8f785f8f5cd2d3c65ad920d9f93054ec609ad09d2b170ded61cb985677443047a71911d0c5817437eaf473766798c2d5025032fa694879095840619f5e49380612bd296ff7e950eafb66ff654d99ca70869ebc48eb9e63c669d292008d1f286265a942b79b0b1744bc627a5ca0693b2acfef770103e37bcf669e84ca7787d9f19e669d7ecd4f4b80da4a50477bbcc2afe477004209a161040ab1778e2f2c00ee482f205b28efba439fcb04ea283f619478d94deac164a916c49f6591b2b05cc63ff5d8cf10d82f03f7acc295ec4183fd37e90efe3e12f46363c7779140d4ce659925db52f19053e114d7cc4efd666b37f79f00000000000000000000000000000000000000000000000000000000000001c0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000106d0802111c0000000000000022480a200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000014000000000000000000000000000000000000000000000000000000000000002205d0fdd871b479ba5e7c46edf17fa6360e42c7231948443aff1d72e9b996a957a662cd2e89090aeab58ce7dc51a02f579418201dc38d4970614c4a88bd5677e24000000000000000000000000000000000000000000000000000000000000001c0000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000003e12240a209c7a986f99ff1bf3cfc599b57e608c48601478a300aa03f3dde3e2a6275140be10012a0b08ab8ba6f50510d4c3b51e320962616e64636861696e000062f89b3e7ab41f6ff71b1f097b055a8033089e4bfeac0a42656ba4ece4d370e66c3c01cbe588fea9187fd06e07619dabc410155c41985a63c401f4d167820e3e000000000000000000000000000000000000000000000000000000000000001c0000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000003e12240a209c7a986f99ff1bf3cfc599b57e608c48601478a300aa03f3dde3e2a6275140be10012a0b08ab8ba6f50510c0dae21f320962616e64636861696e000081cec8b6b9d4a0f737def3ef29b3c4dae24612c675ae17bf29c720aac1c8b6ab2a34de8f41bfee200872fcecbed0c1351d2ed128bcced61e940265014d7f7ffc000000000000000000000000000000000000000000000000000000000000001b0000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000003e12240a209c7a986f99ff1bf3cfc599b57e608c48601478a300aa03f3dde3e2a6275140be10012a0b08ab8ba6f50510d0d08c1f320962616e64636861696e000000000000000000000000000000000000000000000000000000000000000005c0000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000001c0000000000000000000000000000000000000000000000000000000000000001b000000000000000000000000000000000000000000000000000000000000032000000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000962616e6420746573740000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001e303330303030303034323534343336343030303030303030303030303030000000000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000005ea985a2000000000000000000000000000000000000000000000000000000005ea985a800000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000000962616e6420746573740000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001035636133306330303030303030303030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000001bd1814868ab070be64030d05681ebbaa8394251d3fd3a677aa839233ca6ec1c9d000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000001b48ead2de2ed08b9e45637904a213b3a92bb90c5f70d89e3ebee8a369da6c25ab000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000001b709e1c73511b24efdd9b8d3cd717a5210ba20e2411a8529e8b642c54fb002dc4000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000050000000000000000000000000000000000000000000000000000000000000015000000000000000000000000000000000000000000000000000000000000001be06e281da7e25786b4997b6289d896e07e0f1a4eadda7dfd9074f1d6bd7cc445",
    value: "0",
    shardID: 0,
    toShardID: 0,
    gasLimit: "10000000",
    gasPrice: "1000000000",
  });

  hmy.wallet.addByPrivateKey(
    "0x01F903CE0C960FF3A9E68E80FF5FFC344358D80CE1C221C3F9711AF07F83A3BD"
  );
  hmy.wallet.setSigner("0x3aea49553Ce2E478f1c0c5ACC304a84F5F4d1f98");

  const signedTX = await hmy.wallet.signTransaction(tx);
  const [sentTX, txHash] = await signedTX.sendTransaction();

  console.log(sentTX);
  console.log("=-=-=-=-=-=-=-=-=-=");
  console.log(txHash);
  console.log("done");
})();
